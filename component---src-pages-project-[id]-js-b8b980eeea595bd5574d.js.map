{"version":3,"file":"component---src-pages-project-[id]-js-b8b980eeea595bd5574d.js","mappings":"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","sources":["webpack://gatsby-starter-default/./src/components/projectPage/ProjectVideo.jsx","webpack://gatsby-starter-default/./src/components/projectPage/ProjectInfo.jsx","webpack://gatsby-starter-default/./src/components/projectPage/ProjectFooter.jsx","webpack://gatsby-starter-default/./src/pages/project/[id].js"],"sourcesContent":["import React from \"react\"\nimport { Video } from \"../../styles/homeStyles\"\nimport { VideoContainer } from \"../../styles/projectStyles\"\n\nconst ProjectVideo = ({ location, video }) => {\n  console.log({ location, video })\n  const videoPath =\n    \"http://\" +\n    location.host +\n    require(\"../../assets/video/\" + video.fname).default\n  console.log(videoPath)\n\n  const onVideoLoad = () => {\n    console.log(\"video loaded\")\n  }\n  return (\n    <div>\n      <VideoContainer>\n        <Video\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{\n            duration: 1.2,\n            ease: [0.6, 0.05, -0.01, 0.9],\n          }}\n          exit={{ opacity: 0 }}\n        >\n          <video\n            onLoadedData={onVideoLoad}\n            src={videoPath}\n            autoPlay\n            loop\n            muted\n          ></video>\n        </Video>\n      </VideoContainer>\n    </div>\n  )\n}\n\nexport default ProjectVideo\n","import React, { useEffect } from \"react\"\nimport { InfoContainer, Info, Credits } from \"../../styles/projectStyles\"\n\nimport { useInView } from \"react-intersection-observer\"\nimport { useAnimation } from \"framer-motion\"\n\nconst ProjectInfo = () => {\n  const animation = useAnimation()\n  const [infoRef, isInView] = useInView({\n    triggerOnce: true,\n    rootMargin: \"-200px\",\n  })\n\n  useEffect(() => {\n    if (isInView) {\n      console.log(\"project info in view!\")\n      animation.start(\"visible\")\n    }\n  }, [isInView])\n\n  return (\n    <InfoContainer\n      ref={infoRef}\n      animate={animation}\n      initial=\"hidden\"\n      variants={{\n        hidden: { opacity: 0, y: -150 },\n        visible: {\n          opacity: 1,\n          y: 0,\n          transition: { duration: 0.6, ease: [0.6, 0.05, -0.01, 0.9] },\n        },\n        // exit: {\n        //   opacity: 0,\n        //   transition: { duration: 0.2 },\n        // },\n      }}\n      // exit=\"exit\"\n    >\n      <Info>\n        <p>\n          We see it everywhere. Where mineral rich water colours our shores. In\n          a blazing sky that bodes well for the next day. Painted on vessels,\n          dyed in our wool and glowing from the pride of islanders. It’s also\n          the unmistakable colour of the world’s finest lobster. Known\n          worldwide. And across Canada. We celebrate a colour, and inspire our\n          viewers. Most importantly, we’re reminded PEI lobster as nothing short\n          of legendary.\n        </p>\n      </Info>\n      <Credits>\n        <div className=\"credit\">\n          <p className=\"credit-type\">Director</p>\n          <p className=\"credit-name\">Me</p>\n        </div>\n        <div className=\"credit\">\n          <p className=\"credit-type\">Director</p>\n          <p className=\"credit-name\">Me</p>\n        </div>\n        <div className=\"credit\">\n          <p className=\"credit-type\">Director</p>\n          <p className=\"credit-name\">Me</p>\n        </div>\n        <div className=\"credit\">\n          <p className=\"credit-type\">Director</p>\n          <p className=\"credit-name\">Me</p>\n        </div>\n        <div className=\"credit\">\n          <p className=\"credit-type\">Director</p>\n          <p className=\"credit-name\">Me</p>\n        </div>\n        <div className=\"credit\">\n          <p className=\"credit-type\">Director</p>\n          <p className=\"credit-name\">Me</p>\n        </div>\n      </Credits>\n    </InfoContainer>\n  )\n}\n\nexport default ProjectInfo\n","import React, { useRef, useState, useEffect } from \"react\"\nimport { useGlobalDispatchContext } from \"../../context/globalContext\"\nimport { videoList } from \"../../content/videoList\"\nimport { motion, useAnimation } from \"framer-motion\"\n\nimport { useInView } from \"react-intersection-observer\"\n\nimport { MoreProjects, MoreProjectsContainer } from \"../../styles/projectStyles\"\nimport { StyledLink } from \"../../styles/globalStyles\"\n\nconst ProjectFooter = ({ location, video }) => {\n  const videoRef = useRef(null)\n  const footLeftVideoRef = useRef(null)\n  const footRightVideoRef = useRef(null)\n\n  const dispatch = useGlobalDispatchContext()\n\n  const [videoPath, setVideoPath] = useState(null)\n\n  const filteredVideoList = videoList.filter(v => v.id !== video.id)\n  const prevVideoIndex = video.id - 1 < 0 ? videoList.length - 1 : video.id - 1\n  const nextVideoIndex = video.id + 1 >= videoList.length ? 0 : video.id + 1\n  // console.log(filteredVideoList)\n\n  const setCursor = isHomePage => {\n    dispatch({\n      type: \"IS_HOME_PAGE\",\n      value: isHomePage,\n    })\n  }\n\n  const ArrowSVG = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 101 57\">\n      <path\n        d=\"M33 34H0V24h81.429L66 7.884 73.548 0l19.877 20.763.027-.029L101 28.618 73.829 57l-7.548-7.884L80.753 34H33z\"\n        fill=\"#FFF\"\n        fillRule=\"evenodd\"\n      ></path>\n    </svg>\n  )\n\n  let mouseOnHoverCords = {\n    x: 0,\n    y: 0,\n  }\n  const handleMouseMoveOnFoot = e => {\n    const setLeft = parseInt(-(mouseOnHoverCords.x - e.pageX))\n    const setTop = parseInt(-(mouseOnHoverCords.y - e.pageY))\n\n    // console.log(e)\n    setHoverFootVideoCords({\n      ...hoverFootVideoCords,\n      left: setLeft,\n      top: setTop,\n    })\n  }\n\n  const handleVideoHover = (e, vid, side) => {\n    mouseOnHoverCords = { x: e.pageX, y: e.pageY }\n    const elementToListen =\n      side === \"left\" ? footLeftVideoRef.current : footRightVideoRef.current\n\n    // elementToListen.removeEventListener(\"mousemove\", handleMouseMoveOnFoot)\n    elementToListen.addEventListener(\"mousemove\", handleMouseMoveOnFoot)\n\n    console.log(\"videoHover\")\n    setFootVideoHover(true)\n    setVideoPath(\n      \"http://\" +\n        location.host +\n        require(\"../../assets/video/\" + vid.fname).default\n    )\n  }\n\n  const handleFootVideoUnHover = (e, side) => {\n    setFootVideoHover(false)\n    const elementToUnlisten =\n      side === \"left\" ? footLeftVideoRef.current : footRightVideoRef.current\n\n    elementToUnlisten.removeEventListener(\"mousemove\", handleMouseMoveOnFoot)\n  }\n\n  const animation = useAnimation()\n  const [moreRef, isInView] = useInView({\n    triggerOnce: true,\n    rootMargin: \"-100px\",\n  })\n\n  useEffect(() => {\n    if (isInView) {\n      animation.start(\"visible\")\n    }\n  }, [isInView])\n\n  // const transitionVideo = () => {\n  //   if (videoRef.current === null) return\n  //   const xref = videoRef.current\n  //   const bounds = xref.getBoundingClientRect()\n\n  //   return { left: -bounds.left, top: -bounds.top, opacity: 0 }\n  // }\n\n  const onOtherProjectClicked = () => {\n    setVideoPath(null)\n  }\n\n  const [isFootVideoHover, setFootVideoHover] = useState(false)\n  const [hoverFootVideoCords, setHoverFootVideoCords] = useState({\n    left: 0,\n    top: 0,\n  })\n\n  const varFootVideoHover = {\n    hovered: {\n      left: hoverFootVideoCords.left,\n      top: hoverFootVideoCords.top,\n      transition: { duration: 0.001 },\n    },\n\n    notHovered: {\n      opacity: 0,\n      transition: { duration: 0.6, ease: [0.6, 0.05, -0.01, 0.9] },\n    },\n  }\n\n  return (\n    <div>\n      <MoreProjectsContainer\n        ref={moreRef}\n        animate={animation}\n        initial=\"hidden\"\n        variants={{\n          hidden: { opacity: 0 },\n          visible: {\n            opacity: 1,\n            transition: { duration: 0.6, ease: [0.6, 0.05, -0.01, 0.9] },\n          },\n          leave: {\n            opacity: 0,\n            transition: { duration: 0.2 },\n          },\n        }}\n        exit=\"leave\"\n        onMouseEnter={() => setCursor(false)}\n        onMouseLeave={() => setCursor(true)}\n      >\n        <MoreProjects>\n          <StyledLink to={`/project/${videoList[prevVideoIndex].path}`}>\n            <div\n              ref={footLeftVideoRef}\n              className=\"left-project more-project\"\n              onMouseOver={e =>\n                handleVideoHover(e, videoList[prevVideoIndex], \"left\")\n              }\n              onMouseLeave={e => handleFootVideoUnHover(e, \"left\")}\n            >\n              <h1>{videoList[prevVideoIndex].title}</h1>\n              <div className=\"svg-inside\">\n                <ArrowSVG />\n              </div>\n            </div>\n          </StyledLink>\n          <motion.div\n            className=\"video-trailer\"\n            // exit={() => transitionVideo()}\n            animate={isFootVideoHover ? \"hovered\" : \"notHovered\"}\n            variants={varFootVideoHover}\n            transition={{\n              duration: 1.2,\n              ease: [0.6, 0.05, -0.01, 0.9],\n            }}\n          >\n            {videoPath !== null ? (\n              <motion.video\n                ref={videoRef}\n                src={videoPath}\n                key={videoPath}\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                transition={{\n                  duration: 1.2,\n                  ease: [0.6, 0.05, -0.01, 0.9],\n                }}\n                autoPlay\n                loop\n                muted\n              ></motion.video>\n            ) : null}\n          </motion.div>\n\n          <StyledLink to={`../../project/${videoList[nextVideoIndex].path}`}>\n            <div\n              ref={footRightVideoRef}\n              onMouseUp={onOtherProjectClicked}\n              className=\"right-project more-project\"\n              onMouseOver={e =>\n                handleVideoHover(e, videoList[nextVideoIndex], \"right\")\n              }\n              onMouseLeave={e => handleFootVideoUnHover(e, \"right\")}\n            >\n              <h1>{videoList[nextVideoIndex].title}</h1>\n              <div className=\"svg-inside\">\n                <ArrowSVG />\n              </div>\n            </div>\n          </StyledLink>\n        </MoreProjects>\n      </MoreProjectsContainer>\n    </div>\n  )\n}\n\nexport default ProjectFooter\n","// https://stackoverflow.com/a/55757176 (see comments)\nimport React, { useEffect, useState } from \"react\"\nimport Layout from \"../../components/Layout\"\nimport Seo from \"../../components/seo\"\nimport ProjectVideo from \"../../components/projectPage/ProjectVideo\"\nimport ProjectInfo from \"../../components/projectPage/ProjectInfo\"\nimport ProjectFooter from \"../../components/projectPage/ProjectFooter\"\nimport { videoList } from \"../../content/videoList\"\n\nconst IdPage = props => {\n  console.log(props)\n  let [video, setVideo] = useState(null)\n  let [location, setLocation] = useState(null)\n\n  function capitalizeFirstLetter(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1)\n  }\n\n  useEffect(() => {\n    setVideo(videoList.filter(v => v.path === props.params.id)[0])\n    setLocation(props.location)\n    // pageTitle = capitalizeFirstLetter(video.title)\n    return () => {}\n  }, [props])\n\n  return (\n    <Layout>\n      <Seo title=\"Projects\" />\n      {location && video && (\n        <>\n          <ProjectVideo location={location} video={video} />\n          <ProjectInfo />\n          <ProjectFooter location={location} video={video} />\n        </>\n      )}\n    </Layout>\n  )\n}\n\nexport default IdPage\n"],"names":["location","video","console","log","videoPath","host","require","fname","default","initial","opacity","animate","transition","duration","ease","exit","onLoadedData","src","autoPlay","loop","muted","animation","useAnimation","useInView","triggerOnce","rootMargin","infoRef","isInView","useEffect","start","ref","variants","hidden","y","visible","className","videoRef","useRef","footLeftVideoRef","footRightVideoRef","dispatch","useGlobalDispatchContext","useState","setVideoPath","prevVideoIndex","videoList","v","id","nextVideoIndex","setCursor","isHomePage","type","value","ArrowSVG","xmlns","viewBox","d","fill","fillRule","mouseOnHoverCords","x","handleMouseMoveOnFoot","e","setLeft","parseInt","pageX","setTop","pageY","setHoverFootVideoCords","hoverFootVideoCords","left","top","handleVideoHover","vid","side","current","addEventListener","setFootVideoHover","handleFootVideoUnHover","removeEventListener","moreRef","isFootVideoHover","varFootVideoHover","hovered","notHovered","leave","onMouseEnter","onMouseLeave","to","path","onMouseOver","title","motion","key","onMouseUp","props","setVideo","setLocation","params","Layout"],"sourceRoot":""}